{
  "name": "Pie for Providers",
  "description": "Pie for Providers App",
  "addons": [
    "heroku-postgresql:hobby-dev",
    "papertrail"
  ],
  "env": {
    "ALLOW_SEEDING": {
      "description": "Whether or not this environment should allow seeding",
      "value": "false",
      "required": "false"
    },
    "APPSIGNAL_PUSH_API_KEY": {
      "description": "Push API Key to send errors to AppSignal",
      "required": "false"
    },
    "AWS_ACCESS_KEY_ID": {
      "description": "AWS Access Key ID's user",
      "required": "false"
    },
    "AWS_NECC_DASHBOARD_ARCHIVE_BUCKET": {
      "description": "S3 Bucket where NECC Dashboard CSVs should be archived",
      "required": "false"
    },
    "AWS_NECC_DASHBOARD_BUCKET": {
      "description": "S3 Bucket where NECC Dashboard CSVs will be picked up by the application",
      "required": "false"
    },
    "AWS_NECC_ONBOARDING_ARCHIVE_BUCKET": {
      "description": "S3 Bucket where NECC Onboarding CSVs should be archived",
      "required": "false"
    },
    "AWS_NECC_ONBOARDING_BUCKET": {
      "description": "S3 Bucket where NECC Onboarding CSVs will be picked up by the application",
      "required": "false"
    },
    "AWS_REGION": {
      "description": "AWS Region's user",
      "required": "false"
    },
    "AWS_SECRET_ACCESS_KEY": {
      "description": "AWS Secret Access Key's user",
      "required": "false"
    },
    "DATABASE_URL": {
      "description": "URL to the DB - generated by Heroku when adding the Postgres add-on",
      "required": "false"
    },
    "DEVISE_JWT_SECRET_KEY": {
      "description": "Secret key generated individually for each environment to sign Devise JWTs"
    },
    "FF_NE_LIVE_ALGORITHMS": {
      "description": "Feature Flag - Use Live Algorithms for Nebraska",
      "value": "true",
      "required": "false"
    },
    "HOST": {
      "description": "URL for this env (https)",
      "required": "false"
    },
    "JS_RUNTIME_TARGET_BUNDLE": {
      "description": "Target for the runtime JS to serve",
      "value": "public/static/js/*.js"
    },
    "LANG": {
      "description": "Language for encoding",
      "value": "en_US.UTF-8"
    },
    "MAIL_HOST": {
      "description": "Mail host for ActionMailer in Rails",
      "required": "false"
    },
    "MAIL_URL": {
      "description": "Source URL for ActionMailer in Rails",
      "required": "false"
    },
    "RACK_ENV": {
      "description": "Generated by Heroku Rails buildpack",
      "required": "false"
    },
    "RAILS_ENV": {
      "description": "Rails Environment this app should run on",
      "value": "production"
    },
    "RAILS_LOG_TO_STDOUT": {
      "description": "Allows Rails to log to STDOUT in this environment",
      "value": "enabled",
      "required": "false"
    },
    "RAILS_SERVE_STATIC_FILES": {
      "description": "Allows Rails to serve static files",
      "value": "enabled",
      "required": "false"
    },
    "REACT_APP_APPSIGNAL_KEY": {
      "description": "Front end key to send errors to AppSignal",
      "required": "false"
    },
    "REACT_APP_GA_MEASUREMENT_ID": {
      "description": "Front end measurement ID to send data to Google Analytics",
      "required": "false"
    },
    "REACT_APP_GTM_AUTH": {
      "description": "Auth to send data to Google Tag Manager",
      "required": "false"
    },
    "REACT_APP_GTM_ID": {
      "description": "ID to send data to Google Tag Manager",
      "required": "false"
    },
    "REACT_APP_GTM_PREVIEW": {
      "description": "Preview name to send data to Google Tag Manager",
      "required": "false"
    },
    "REACT_APP_HOTJAR_ID": {
      "description": "ID to send data to Hotjar",
      "required": "false"
    },
    "REACT_APP_HOTJAR_SV": {
      "description": "Version to send data to Hotjar",
      "required": "false"
    },
    "SECRET_KEY_BASE": {
      "description": "Secret key base for Rails"
    },
    "SENDMAIL_PASSWORD": {
      "description": "Password for sendmail account for ActionMailer",
      "required": "false"
    },
    "SENDMAIL_USERNAME": {
      "description": "Username for sendmail account for ActionMailer",
      "required": "false"
    },
    "WONDERSCHOOL_ATTENDANCE_URL": {
      "description": "URL to pull Wonderschool Attendance Data from a Public CSV",
      "required": "false"
    }
  },
  "buildpacks": [
    {
      "url": "heroku/nodejs"
    },
    {
      "url": "heroku/ruby"
    }
  ],
  "scripts": {
    "build": "cd client && yarn install && yarn build && cd ..",
    "deploy": "cp -a client/build/. public/",
    "postinstall": "yarn build && yarn deploy && echo 'Client built!'",
    "postdeploy": "bundle exec rails db:migrate:with_data"
  }
}